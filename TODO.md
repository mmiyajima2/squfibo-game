#　通常タスク

## [x] CPU（Easy）を実装してほしい、コントローラレイヤーの箇所
- 一人二役の自主稽古モードは提供しないので、その分岐の考慮は不要である
- すでに実装済みのドメインレイヤーの実装をつかうこと
- ドメインレイヤーのロジックを、コントローラレイヤーにあげるべきなら、それはドメインロジックを修正すること
- **【完了】実装内容：**
  - `useGameState.ts`に`EXECUTE_CPU_TURN`アクションを追加
    - React Strict Mode対応の二重実行対策を実装
    - `executeCPUTurn()`メソッドをパブリックインターフェースに追加
  - `GameContainer.tsx`にCPUターン自動実行ロジックを追加
    - `useEffect`でCPUプレイヤーを監視し、500ms遅延で自動実行
    - CPUの行動を実況メッセージに追加
  - `CPUEasyStrategy.ts`のバグ修正
    - 役を申告しない場合に`game.endTurn()`が呼ばれていなかった問題を修正
  - 全108テスト成功・動作確認完了

## [x] CPU（Easy）を実装してほしい、まずはドメインレイヤーから
- ./docs/cpu_easy_spec.mdが行動仕様書である
- Easyからではあるが、その他の難易度の拡張性は考慮すること
- 一人二役の自主稽古モードは提供しないので、その分岐の考慮は不要である
- コントローラーレイヤは後回しとする
- **【完了】実装内容：**
  - `src/domain/services/cpu/`配下にCPU戦略を実装
    - `CPUStrategy.ts`: 戦略インターフェース（Normal, Hard拡張に対応）
    - `CPUEasyStrategy.ts`: Easy難易度の実装
      - ランダムなカード配置（盤面満杯時はランダム除去）
      - 役の優先順位選択（THREE_CARDS > TWO_CARDS_4_9 > TWO_CARDS_1_4 > CLEARING_YAKU）
      - 20%の確率で役を見落とす機構
    - `CPUStrategyFactory.ts`: 難易度に応じた戦略を生成
  - `Game.executeCPUTurn()`メソッドを追加（CPUターン自動実行）
  - ユニットテスト作成・全108テスト成功
    - 見落とし率約20%の検証
    - 優先順位選択の検証
    - ランダム配置の検証

## [x] 新しいゲームをおしたら、CPUのモードが選べるようになってほしい
- Easy, Normal, Hardの３タイプを用意してほしい
- 現在は、Easyだけを活性としあとは非活性としてほしい
- まずは、Easyから実装するので

## [x] CPU（Easy)の仕様書のマークダウンをつくってほしい
- docs/ 以下につくってほしい
- CPU(Easy) がわかるファイル名にしてほしい
- ファイル名は英語表現、内容は日本語でつくってほしい
- 5回に1度は、成立した役を見落として申告せずターン終了する振る舞いにしてほしい
- その他は、仕様書をよみといて適切にかいてほしい

# 仕様変更対応

## [x] 調整役を追加したのでその対応をしてほしい
- 調整役の解決・効果を実装すること
- 役の定義の見せ方に追加すること
- まずは実装計画をだしてほしい